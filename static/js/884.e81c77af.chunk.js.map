{"version":3,"file":"static/js/884.e81c77af.chunk.js","mappings":"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","sources":["pages/MovieDetails.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nconst MovieDetails = () => {\n  const [{ title, year, score, image, overview, genres }, setFilm] = useState({\n    title: null,\n    year: null,\n    score: null,\n    image: null,\n    overview: null,\n    genres: null,\n  });\n\n  const location = useLocation();\n  console.log(location);\n\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n  console.log(backLinkLocationRef);\n\n  const { movieId } = useParams();\n\n  async function fetchMovieById(id) {\n    try {\n      const response = await fetch(\n        `https://api.themoviedb.org/3/movie/${id}?language=en-US&api_key=77971c184b7d14036ed9c9196e488377`\n      );\n      const movieDetails = await response.json();\n      // console.log(movieDetails);\n      return movieDetails;\n    } catch (error) {\n      console.log(`An error occurred: ${error.message}`);\n      toast.error(`An error occurred: ${error.message}`, {\n        position: 'top-right',\n        theme: 'colored',\n      });\n    }\n  }\n\n  useEffect(() => {\n    async function fetchMovie() {\n      const filmDetails = await fetchMovieById(movieId);\n      const percentageScore = Math.round(filmDetails['vote_average'] * 10, 0);\n      setFilm({\n        title: filmDetails['title'],\n        year: filmDetails['release_date'].substring(0, 4),\n        score: percentageScore,\n        image: filmDetails['poster_path'],\n        overview: filmDetails['overview'],\n        genres: filmDetails['genres'],\n      });\n    }\n    fetchMovie();\n  }, [movieId]);\n\n  return (\n    <div>\n      <h1>Chosen movie details</h1>\n      <button>\n        <Link to={backLinkLocationRef.current}>Go back</Link>\n      </button>\n      <div>\n        {image && (\n          <img\n            src={`https://image.tmdb.org/t/p/w300/${image}`}\n            alt=\"film poster\"\n          />\n        )}\n        <div>\n          <h2>{`${title}(${year ? year : 'YYYY'})`}</h2>\n          <p>{`User Score: ${score}%`}</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h4>Genres</h4>\n          <ul>\n            {genres &&\n              genres.map(genre => <li key={genre.id}>{genre.name}</li>)}\n          </ul>\n        </div>\n      </div>\n      <p>Additional information</p>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["_location$state$from","_location$state","_useState","useState","title","year","score","image","overview","genres","_useState2","_slicedToArray","_useState2$","setFilm","location","useLocation","console","log","backLinkLocationRef","useRef","state","from","movieId","useParams","fetchMovieById","_x","_fetchMovieById","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee2","id","response","movieDetails","_context2","prev","next","fetch","concat","sent","json","abrupt","t0","message","toast","position","theme","stop","useEffect","_fetchMovie","_callee","filmDetails","percentageScore","_context","Math","round","substring","fetchMovie","_jsxs","children","_jsx","Link","to","current","src","alt","map","genre","name","Outlet"],"sourceRoot":""}