{"version":3,"file":"static/js/380.e46bde28.chunk.js","mappings":"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","sources":["pages/CommonPageStyles.jsx","components/Search/SearchStyles.jsx","components/Search/Search.jsx","pages/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nconst PageHeading = styled.h1`\n  font-size: 28px;\n  font-weight: 500;\n  margin-bottom: 20px;\n`;\n\nconst PageHeadingHidden = styled.h1`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  border: 0;\n  padding: 0;\n  white-space: nowrap;\n  clip-path: inset(100%);\n  clip: rect(0 0 0 0);\n  overflow: hidden;\n`;\n\nconst List = styled.ul`\n  list-style: disc;\n  padding-left: 20px;\n  cursor: pointer;\n`;\n\nconst Item = styled.li`\n  padding: 5px 0;\n`;\n\nconst LinkTo = styled(Link)`\n  font-weight: 500;\n  color: inherit;\n  &:hover,\n  &:focus {\n    color: #ee3d3d;\n  }\n  text-decoration: none;\n`;\n\nexport { PageHeading, PageHeadingHidden, List, Item, LinkTo };\n","import styled from 'styled-components';\n\nconst Form = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 400px;\n  border: 1px solid #cdcdcd;\n  border-radius: 3px;\n  overflow: hidden;\n  margin-bottom: 20px;\n  &:hover,\n  &:focus {\n    border-color: #353535;\n  }\n`;\n\nconst Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 16px;\n  background-color: inherit;\n  border: none;\n  padding: 5px;\n  &::placeholder {\n    font: inherit;\n  }\n`;\n\nconst FormButton = styled.button`\n  display: inline-block;\n  width: 60px;\n  height: 30px;\n  border: 0;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport { Form, Input, FormButton };\n","import { useSearchParams } from 'react-router-dom';\nimport { Form, Input, FormButton } from './SearchStyles';\n\nconst Search = ({ onSubmit }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query') ?? '';\n  console.log(query);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n  };\n\n  const handleInputChange = e => {\n    const input = e.target.value.toLowerCase();\n    const params = input !== '' ? { query: input.trim() } : {};\n    setSearchParams(params);\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input\n        type=\"text\"\n        name=\"searchInput\"\n        value={query}\n        onChange={handleInputChange}\n        autoComplete=\"off\"\n        // autoFocus\n        placeholder=\"Search movies\"\n      />\n      <FormButton type=\"submit\">Search</FormButton>\n    </Form>\n  );\n};\n\nexport default Search;\n","import Search from 'components/Search';\n\nimport { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { PageHeadingHidden, List, Item, LinkTo } from './CommonPageStyles';\n\nconst Movies = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const lastSearchListUnparsed = window.localStorage.getItem('movies');\n  const lastSearchListParsed = JSON.parse(lastSearchListUnparsed);\n  const [movies, setMovies] = useState(() => {\n    return lastSearchListParsed ?? [];\n  });\n\n  const location = useLocation();\n\n  async function fetchMovieByKeyword(query) {\n    try {\n      const response = await fetch(\n        `https://api.themoviedb.org/3/search/movie?query=${query}&language=en-US&api_key=77971c184b7d14036ed9c9196e488377`\n      );\n      const movieList = await response.json();\n      console.log(movieList);\n      return movieList;\n    } catch (error) {\n      console.log(`An error occurred: ${error.message}`);\n    }\n  }\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    async function fetchMovie() {\n      const filmList = await fetchMovieByKeyword(searchQuery);\n      const films = filmList.results;\n      setMovies(\n        films &&\n          films.map(film => ({\n            id: film['id'],\n            title: film['title'],\n            year: film['release_date'].substring(0, 4),\n          }))\n      );\n    }\n    fetchMovie();\n  }, [searchQuery]);\n\n  useEffect(() => {\n    window.localStorage.setItem('movies', JSON.stringify(movies));\n  }, [movies]);\n\n  return (\n    <>\n      <PageHeadingHidden>Search the movie by keyword</PageHeadingHidden>\n      <Search onSubmit={setSearchQuery} />\n      <List>\n        {movies.map(movie => (\n          <Item key={movie.id}>\n            <LinkTo\n              key={movie.id}\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n            >{`${movie.title} (${movie.year ? movie.year : '????'})`}</LinkTo>\n          </Item>\n        ))}\n      </List>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["PageHeading","styled","_templateObject","_taggedTemplateLiteral","PageHeadingHidden","_templateObject2","List","_templateObject3","Item","_templateObject4","LinkTo","Link","_templateObject5","Form","Input","FormButton","_ref","_searchParams$get","onSubmit","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","query","get","console","log","_jsxs","e","preventDefault","children","_jsx","type","name","value","onChange","input","target","toLowerCase","params","trim","autoComplete","placeholder","_useState","useState","_useState2","searchQuery","setSearchQuery","lastSearchListUnparsed","window","localStorage","getItem","lastSearchListParsed","JSON","parse","_useState3","_useState4","movies","setMovies","location","useLocation","fetchMovieByKeyword","_x","_fetchMovieByKeyword","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee2","response","movieList","_context2","prev","next","fetch","concat","sent","json","abrupt","t0","message","stop","useEffect","_fetchMovie","_callee","filmList","films","_context","results","map","film","id","title","year","substring","fetchMovie","setItem","stringify","_Fragment","Search","movie","to","state","from"],"sourceRoot":""}